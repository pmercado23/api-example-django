{% extends 'base.html' %}
{% block title %}
    Welcome to drchrono
{% endblock title %}
{% block body %}


    <h1>Welcome Dr {{ doctor.first_name }} {{ doctor.last_name }}</h1>
    <h3>{{ doctor.specialty }}</h3>

    <div class="row">
        <div class="col-lg-12">
            <div class="btn-group" role="group" aria-label="...">
                <div class="btn-group" role="group">
                    <a href="/welcome/" class="list-group-item list-group-item-action">
                        <center>REFRESH</center>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">Today's Appointments</h3>
                </div>
                <div class="panel-body">
                    <table id="todays_appointments_table" class="table table-striped table-bordered" cellspacing="0"
                           width="100%">
                        <thead>
                        <tr>
                            <th>Patient</th>
                            <th>Scheduled Time</th>
                            <th>Status</th>
                            <th>Reason</th>
                            <th>Recurring Appointment</th>
                            <th>Notes</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for appointment in appointments %}
                            <tr>
                                <th> {{ appointment.first_name }} {{ appointment.last_name }}</th>
                                <th> {{ appointment.scheduled_time }}</th>
                                <th> {{ appointment.status }}</th>
                                <th> {{ appointment.reason }}</th>
                                <th> {{ appointment.recurring_appointment }}</th>
                                <th> {{ appointment.notes }}</th>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>

            </div>
        </div>
    </div>

    <br>

    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">Patients Checked-In</h3>
                </div>
                <div class="panel-body">
                    <table id="checked_in_table" class="table table-striped table-bordered" width="100%">
                        <thead>
                        <tr>
                            <th>Patient</th>
                            <th>Arrival Time</th>
                            <th>Scheduled Time</th>
                            <th>Time Waiting</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for patients in checked_in %}
                            <tr>
                                <th> {{ patients.first_name }} {{ patients.last_name }}</th>
                                <th> {{ patients.arrival_time }}</th>
                                <th> {{ patients.scheduled_time }}</th>
                                <th> {{ patients.wait_since_arrived }}</th>

                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>

            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-6">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">Patients In Session </h3>
                </div>
                <div class="panel-body">
                    <table id="in_session_table" class="table table-striped table-bordered" width="100%">
                        <thead>
                        <tr>
                            <th>Patient</th>
                            <th>Reason</th>
                            <th>Notes</th>

                        </tr>
                        </thead>
                        <tbody>
                        {% for patients in in_session %}
                            <tr>
                                <th> {{ patients.first_name }} {{ patients.last_name }}</th>
                                                                <th> {{ patients.reason }}</th>

                                <th> {{ patients.notes }}</th>

                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>

            </div>
        </div>

    <div class="col-lg-6">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">Patients Seen</h3>
                </div>
                <div class="panel-body">
                    <table id="seen_table" class="table table-striped table-bordered" width="100%">
                        <thead>
                        <tr>
                            <th>Patient</th>
                            <th>Appointment Duration</th>
                            <th>Scheduled Time</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for patients in seen %}
                            <tr>
                                <th> {{ patients.first_name }} {{ patients.last_name }}</th>
                                <th> {{ patients.appointment_duration }}</th>
                                <th> {{ patients.scheduled_time }}</th>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>

            </div>
        </div>

    </div>



    <script>
        $(document).ready(function () {
            $('#checked_in_table').DataTable();
        });

        $(document).ready(function () {
            $('#todays_appointments_table').DataTable();
        });
        $(document).ready(function () {
            $('#in_session_table').DataTable();
        });

        $(document).ready(function () {
            $('#seen_table').DataTable();
        });
    </script>

{% endblock body %}
